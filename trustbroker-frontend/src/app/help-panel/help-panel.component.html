<!--
 Copyright (C) 2024 trustbroker.swiss team BIT

 This program is free software.
 You can redistribute it and/or modify it under the terms of the GNU Affero General Public License
 as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

 See the GNU Affero General Public License for more details.
 You should have received a copy of the GNU Affero General Public License along with this program.
 If not, see <https://www.gnu.org/licenses/>.
-->
<aside class="{{ theme.name }}">
	<div class="helperSidebarHeadCard">
		<h2 class="helperSidebarTitleContainer w-100">
			<span class="helperSidebarTitle"> {{ "trustbroker.help.title" | translate }}</span>
		</h2>
		<button
			class="app-helper-sidebar-close-button p-3 ml-auto"
			mat-button
			(click)="closeHelpPanel()"
			[attr.aria-label]="'trustbroker.header.help.close' | translate"
		>
			<span class="ob-icon-wrapper" aria-hidden="true">
				<span class="ob-icon ob-cancel"></span>
			</span>
		</button>
	</div>
	<div class="helperSidebarContent">
		<mat-expansion-panel togglePosition="before">
			<mat-expansion-panel-header>
				<mat-panel-title>
					{{ "trustbroker.help.generic.title" | translate }}
				</mat-panel-title>
			</mat-expansion-panel-header>
			<p role="tabpanel" [innerHTML]="'trustbroker.help.generic.text' | translate | safeMarkup"></p>
		</mat-expansion-panel>
	</div>
	@for (idpObject of sortedIdpObjects$ | async; track idpObject) {
		<div class="helperSidebarContent">
			<mat-expansion-panel togglePosition="before">
				<mat-expansion-panel-header>
					<mat-panel-title [innerHTML]="'trustbroker.hrd.cards.' + idpObject.name + '.title' | translate: { Default: idpObject.title } | safeMarkup" />
				</mat-expansion-panel-header>
				<p role="tabpanel" [innerHTML]="'trustbroker.help.' + idpObject.name + '.text' | translate | safeMarkup"></p>
			</mat-expansion-panel>
		</div>
	}
</aside>
